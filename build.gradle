plugins {
    id 'java'
    id 'application'
}

project.description("Gradle Learning Project")
project.version=1.0
project.ext.xyz="abc"
ext{
    test="external properties"
}
task firstTask{
    def abc=123
    println abc
    println "Gradle First Task!!"
    println "**********************************************"
    println project.name
    println project.description
    println project.version
    println project.ext.xyz
    println project.ext.test
}
task taskX {
    println "task X"
}
task taskY {
    shouldRunAfter "taskX"
}
task deployToStage{
    doLast(){
        println "Deployed to Stage"
    }
}

task deployToProd{
    doLast(){
        println "Deployed to Prod"
    }
}

task cleanUpFiles{
    doLast(){
        println "Clean Up Files"
    }
}

deployToProd.dependsOn deployToStage
deployToProd.finalizedBy cleanUpFiles
defaultTasks "deployToStage"


repositories {
    mavenCentral()
    mavenLocal()
}

dependencies {
    implementation 'com.google.guava:guava:29.0-jre'
    testImplementation 'junit:junit:4.13'
}

application {
    mainClassName = 'com.gradle.learn.App'
}
